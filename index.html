<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Device Info</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/UAParser.js/0.7.28/ua-parser.min.js"></script>
</head>
<body>
  <h1>Your Device Information</h1>
  <p id="device-info"></p >

  <script>
    // 使用 UAParser.js 来解析用户代理
    const parser = new UAParser();
    const result = parser.getResult();

    let deviceInfo = 'Unknown Device';

    // 解析设备型号
    if (result.device.vendor && result.device.model) {
      deviceInfo = `Device: ${result.device.vendor} ${result.device.model}`;
    } else {
      const userAgent = navigator.userAgent.toLowerCase();
      if (userAgent.includes('iphone')) {
        // 获取版本号
        const versionMatch = userAgent.match(/iphone os (\d+_\d+_\d+)/);
        if (versionMatch) {
          deviceInfo = `Device: Apple iPhone (iOS: ${versionMatch[1].replace(/_/g, '.')})`;
        } else {
          deviceInfo = `Device: Apple iPhone`;
        }
      } else if (userAgent.includes('samsung')) {
        const match = userAgent.match(/samsung; ([\w\s-]+)/);
        if (match) {
          deviceInfo = `Device: Samsung Galaxy ${match[1]}`;
        } else {
          deviceInfo = `Device: Samsung (型号不明确)`;
        }
      } else if (userAgent.includes('xiaomi')) {
        const match = userAgent.match(/xiaomi\/([\w\s-]+)/);
        if (match) {
          deviceInfo = `Device: Xiaomi ${match[1]}`;
        } else {
          deviceInfo = `Device: Xiaomi (型号不明确)`;
        }
      } else {
        deviceInfo = `Device: Mobile Device (型号不明确)`;
      }
    }

    // 显示操作系统信息
    if (result.os.name) {
      deviceInfo += `<br>Operating System: ${result.os.name} ${result.os.version}`;
    }

    document.getElementById("device-info").innerHTML = deviceInfo + "<br>User Agent: " + navigator.userAgent;
  </script>
</body>
</html>
